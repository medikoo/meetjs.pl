'use strict';

var create           = Object.create
  , defineProperty   = Object.defineProperty
  , defineProperties = Object.defineProperties
  , e                = require('es5-ext/lib/Object/descriptors/e')
  , getHref          = e(require('es5-ext/lib/Object/plain/get').curry('href'))

  , props, location;

props = ['protocol', 'host', 'hostname', 'port', 'pathname', 'search',
	'hash', 'href'];

location = defineProperties({}, {
	toString: getHref,
	valueOf: getHref
});

module.exports = function (loc) {
	return create(location, props.reduce(function (o, name) {
		o[name] = e(loc[name]);
		return o;
	}, {}));
};
